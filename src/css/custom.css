/* ==========================================================================
   Component Overrides - Problem-Driven AI
   Pure CSS approach. No swizzled components.
   ========================================================================== */

/* ---------- 1. GLOBAL ---------- */

html {
  scroll-behavior: smooth;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---------- 2. HEADINGS ---------- */

h1, h2, h3, h4, h5, h6 {
  font-family: var(--pdai-font-family-heading);
  letter-spacing: -0.01em;
}

h1 {
  font-weight: 800;
  line-height: 1.2;
}

h2 {
  font-weight: 700;
  line-height: 1.25;
  margin-top: 2rem;
}

h3 {
  font-weight: 700;
  line-height: 1.3;
}

h4, h5, h6 {
  font-weight: 600;
}

.hash-link {
  color: var(--pdai-primary-lighter);
  opacity: 0;
  transition: opacity var(--ifm-transition-fast) ease;
}

*:hover > .hash-link {
  opacity: 1;
}

/* ---------- 3. NAVBAR ---------- */

.navbar {
  border-bottom: 1px solid var(--pdai-border-color);
}

.navbar:not(.navbar-sidebar--show) {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Center nav links: brand left, links center, locale right */
@media (min-width: 997px) {
  .navbar__inner {
    justify-content: center;
  }

  .navbar__brand {
    position: absolute;
    left: var(--ifm-spacing-horizontal);
  }

  .navbar__items:not(.navbar__items--right) {
    flex: initial;
  }

  .navbar__items--right {
    position: absolute;
    right: var(--ifm-spacing-horizontal);
  }
}

.navbar__title {
  font-family: var(--pdai-font-family-heading);
  font-weight: 700;
  font-size: 1.1rem;
  letter-spacing: -0.02em;
}

.navbar__link {
  font-family: var(--pdai-font-family-heading);
  font-size: 0.8125rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  transition: color var(--ifm-transition-fast) ease;
}

.navbar__link--active {
  position: relative;
}

.navbar__link--active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: var(--ifm-navbar-item-padding-horizontal);
  right: var(--ifm-navbar-item-padding-horizontal);
  height: 2px;
  background-color: var(--ifm-color-primary);
  border-radius: 1px;
}

/* ---------- 4. SIDEBAR ---------- */

.theme-doc-sidebar-container {
  border-right: 1px solid var(--pdai-border-color);
}

[data-theme='dark'] .theme-doc-sidebar-container {
  border-color: var(--pdai-gray-700);
}

.menu__list-item-collapsible > .menu__link {
  font-family: var(--pdai-font-family-heading);
  font-weight: 600;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--pdai-gray-500);
}

.menu__link--active:not(.menu__link--sublist) {
  border-left: 3px solid var(--ifm-color-primary);
  padding-left: calc(var(--ifm-menu-link-padding-horizontal) - 3px);
  background-color: var(--ifm-menu-color-background-active);
  border-radius: 0;
  font-weight: 600;
}

.menu__link {
  border-radius: var(--pdai-border-radius-sm);
  transition: all var(--ifm-transition-fast) ease;
  font-size: 0.875rem;
}

/* ---------- 5. CONTENT ---------- */

.markdown p {
  margin-bottom: 1.25rem;
}

.markdown blockquote {
  border-left-width: 3px;
  border-left-color: var(--ifm-blockquote-border-color);
  font-style: italic;
  color: var(--ifm-blockquote-color);
  padding: 0.5rem 1.25rem;
  background-color: transparent;
}

.markdown hr {
  border: none;
  border-top: 1px solid var(--pdai-border-color);
  margin: 2rem 0;
}

[data-theme='dark'] .markdown hr {
  border-color: var(--pdai-gray-700);
}

.markdown code {
  border: 1px solid var(--pdai-gray-200);
  font-size: var(--ifm-code-font-size);
}

[data-theme='dark'] .markdown code {
  border-color: var(--pdai-gray-700);
}

/* ---------- 6. CODE BLOCKS ---------- */

div[class^='codeBlockContainer'],
div[class*=' codeBlockContainer'] {
  box-shadow: none;
  border: 1px solid var(--pdai-border-color);
}

[data-theme='dark'] div[class^='codeBlockContainer'],
[data-theme='dark'] div[class*=' codeBlockContainer'] {
  border-color: var(--pdai-gray-700);
}

div[class^='codeBlockTitle'],
div[class*=' codeBlockTitle'] {
  font-family: var(--pdai-font-family-heading);
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  border-bottom: 1px solid var(--pdai-border-color);
}

[data-theme='dark'] div[class^='codeBlockTitle'],
[data-theme='dark'] div[class*=' codeBlockTitle'] {
  border-color: var(--pdai-gray-700);
}

/* ---------- 7. TABLE OF CONTENTS ---------- */

.table-of-contents__link--active,
.table-of-contents__link--active code {
  color: var(--ifm-color-primary);
  font-weight: 600;
}

.table-of-contents__left-border {
  border-left-color: var(--pdai-gray-200);
}

[data-theme='dark'] .table-of-contents__left-border {
  border-left-color: var(--pdai-gray-700);
}

.table-of-contents__link {
  font-size: 0.8rem;
  transition: color var(--ifm-transition-fast) ease;
  line-height: 1.4;
}

/* ---------- 8. DOC CARDS ---------- */

article[class*='cardContainer'] {
  box-shadow: none;
  border: 1px solid var(--pdai-border-color);
  border-radius: var(--pdai-border-radius-lg);
  transition: border-color var(--ifm-transition-fast) ease,
              transform var(--ifm-transition-fast) ease;
}

article[class*='cardContainer']:hover {
  border-color: var(--ifm-color-primary);
  box-shadow: none;
  transform: translateY(-1px);
}

[data-theme='dark'] article[class*='cardContainer'] {
  border-color: var(--pdai-gray-700);
  background-color: var(--ifm-background-surface-color);
}

[data-theme='dark'] article[class*='cardContainer']:hover {
  border-color: var(--pdai-primary);
}

h2[class*='cardTitle'] {
  font-family: var(--pdai-font-family-heading);
  font-size: 1.1rem;
  font-weight: 700;
}

p[class*='cardDescription'] {
  color: var(--ifm-color-content-secondary);
  font-size: 0.85rem;
  line-height: 1.5;
}

/* ---------- 9. ADMONITIONS ---------- */

.alert {
  box-shadow: none;
  border: 1px solid var(--ifm-alert-border-color);
  border-left-width: var(--ifm-alert-border-left-width);
  border-radius: var(--pdai-border-radius);
}

div[class*='admonitionHeading'] {
  font-family: var(--pdai-font-family-heading);
  letter-spacing: 0.03em;
}

/* ---------- 10. PAGINATION NAV ---------- */

.pagination-nav__link {
  border-color: var(--pdai-border-color);
  border-radius: var(--pdai-border-radius);
  transition: border-color var(--ifm-transition-fast) ease,
              background-color var(--ifm-transition-fast) ease;
}

.pagination-nav__link:hover {
  border-color: var(--ifm-color-primary);
  background-color: var(--ifm-hover-overlay);
}

[data-theme='dark'] .pagination-nav__link {
  border-color: var(--pdai-gray-700);
}

.pagination-nav__label {
  font-family: var(--pdai-font-family-heading);
  font-weight: 700;
}

.pagination-nav__sublabel {
  font-family: var(--pdai-font-family-heading);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--pdai-gray-500);
}

/* ---------- 11. FOOTER ---------- */

.footer {
  border-top: 1px solid var(--pdai-gray-700);
}

.footer--dark {
  --ifm-footer-background-color: var(--pdai-gray-900);
  --ifm-footer-color: var(--pdai-gray-400);
  --ifm-footer-link-color: var(--pdai-gray-300);
  --ifm-footer-title-color: var(--pdai-gray-0);
}

[data-theme='dark'] .footer--dark {
  --ifm-footer-background-color: #0c0e1d;
}

.footer__title {
  font-family: var(--pdai-font-family-heading);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 1rem;
}

.footer__link-item {
  font-size: 0.875rem;
  line-height: 2;
  transition: color var(--ifm-transition-fast) ease;
}

.footer__copyright {
  font-size: 0.8rem;
  color: var(--pdai-gray-500);
  border-top: 1px solid var(--pdai-gray-700);
  padding-top: 1.5rem;
  margin-top: 1rem;
}

/* ---------- 12. SCROLLBAR ---------- */

::-webkit-scrollbar {
  width: var(--ifm-scrollbar-size);
  height: var(--ifm-scrollbar-size);
}

::-webkit-scrollbar-track {
  background: var(--ifm-scrollbar-track-background-color);
}

::-webkit-scrollbar-thumb {
  background: var(--ifm-scrollbar-thumb-background-color);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--ifm-scrollbar-thumb-hover-background-color);
}

* {
  scrollbar-width: thin;
  scrollbar-color: var(--ifm-scrollbar-thumb-background-color) var(--ifm-scrollbar-track-background-color);
}

/* ---------- 13. BREADCRUMBS ---------- */

.breadcrumbs__link {
  font-size: 0.8rem;
  color: var(--pdai-gray-500);
}

.breadcrumbs__item--active .breadcrumbs__link {
  color: var(--ifm-color-primary);
}

/* ---------- 14. TABLES ---------- */

table {
  border-radius: var(--pdai-border-radius);
  overflow: hidden;
}

table thead tr {
  border-bottom: 2px solid var(--pdai-border-color);
}

[data-theme='dark'] table thead tr {
  border-bottom-color: var(--pdai-gray-700);
}

table th {
  font-family: var(--pdai-font-family-heading);
  font-weight: 600;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

/* ---------- 15. DETAILS / COLLAPSIBLE ---------- */

details {
  border: 1px solid var(--pdai-border-color);
  border-radius: var(--pdai-border-radius);
}

[data-theme='dark'] details {
  border-color: var(--pdai-gray-700);
}

details summary {
  font-family: var(--pdai-font-family-heading);
  font-weight: 600;
}

/* ---------- 16. SELECTION ---------- */

::selection {
  background-color: var(--pdai-primary-lightest);
  color: var(--pdai-primary-darkest);
}

[data-theme='dark'] ::selection {
  background-color: rgba(129, 140, 248, 0.3);
  color: var(--pdai-gray-0);
}

/* ---------- 17. FOCUS STATES ---------- */

*:focus-visible {
  outline: 2px solid var(--ifm-color-primary);
  outline-offset: 2px;
  border-radius: 2px;
}

/* ---------- 18. IMAGES ---------- */

.markdown img {
  border-radius: var(--pdai-border-radius);
  border: 1px solid var(--pdai-border-color);
}

[data-theme='dark'] .markdown img {
  border-color: var(--pdai-gray-700);
  opacity: 0.9;
}

/* ---------- 19. ANNOUNCEMENT BAR ---------- */

div[class*='announcementBar'] {
  font-family: var(--pdai-font-family-heading);
  font-size: 0.85rem;
  font-weight: 600;
  background-color: var(--pdai-primary);
  color: white;
}

/* ---------- 20. SECTION HERO CARDS ---------- */

.section-hero {
  width: 100%;
  aspect-ratio: 1406 / 379;
  background-size: cover;
  background-position: center;
  border-radius: var(--pdai-border-radius-lg);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem;
  margin-bottom: 2rem;
}

.section-hero__title {
  font-family: var(--pdai-font-family-heading);
  font-weight: 800;
  font-size: clamp(1.8rem, 4vw, 3rem);
  color: var(--pdai-gray-900);
  margin: 0 0 0.5rem;
  line-height: 1.1;
}

.section-hero__subtitle {
  font-size: clamp(0.75rem, 1.2vw, 0.95rem);
  color: var(--pdai-gray-600);
  margin: 0;
  max-width: 380px;
  line-height: 1.4;
}

[data-theme='dark'] .section-hero__title {
  color: var(--pdai-gray-0);
}

[data-theme='dark'] .section-hero__subtitle {
  color: var(--pdai-gray-300);
}

/* Per-page background images */
.section-hero--overview { background-image: url('/img/vision-general.png'); }
.section-hero--phases { background-image: url('/img/fases.png'); }
.section-hero--principles { background-image: url('/img/principios.png'); }
.section-hero--manifesto { background-image: url('/img/manifiesto.png'); }
.section-hero--principle { background-image: url('/img/principios-listado.png'); }
